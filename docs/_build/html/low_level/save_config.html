

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Save a driver configuration &mdash; Autolab  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Create your own driver" href="create_driver.html" />
    <link rel="prev" title="Open and use a driver" href="open_and_use.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Autolab
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Low-level interface (Drivers)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="open_and_use.html">Open and use a driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Save a driver configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-availability">Driver availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#autolab-configuration-file">Autolab configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-your-configuration">Check your configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="create_driver.html">Create your own driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_use.html">Advanced use</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../high_level/index.html">High-level interface (Devices)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gui/index.html">Graphical User Interface (GUI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help_report.html">Help and bugs/suggestions report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Autolab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Low-level interface (Drivers)</a> &raquo;</li>
        
      <li>Save a driver configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/low_level/save_config.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="save-a-driver-configuration">
<span id="configuration"></span><h1>Save a driver configuration<a class="headerlink" href="#save-a-driver-configuration" title="Permalink to this headline">¶</a></h1>
<p>We will here describe the procedure to configure a new instrument.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Check if a driver is available for your instrument.</p></li>
<li><p>Update the Autolab configuration file.</p></li>
<li><p>Test the communication with your instrument.</p></li>
</ol>
</div></blockquote>
<div class="section" id="driver-availability">
<h2>Driver availability<a class="headerlink" href="#driver-availability" title="Permalink to this headline">¶</a></h2>
<p>The first thing to do is to check whether a driver is available in Autolab for your instrument. Call the function <code class="docutils literal notranslate"><span class="pre">help</span></code> of the object <code class="docutils literal notranslate"><span class="pre">autolab.drivers</span></code> to get the list of available drivers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">autolab</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autolab</span><span class="o">.</span><span class="n">drivers</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<p>If a driver is available for your instrument, go to the next step. If not, please visit the section <span class="xref std std-ref">drivers</span> to create a compatible driver and thus contribute to the Autolab package.</p>
</div>
<div class="section" id="autolab-configuration-file">
<h2>Autolab configuration file<a class="headerlink" href="#autolab-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>The Autolab package requires a local folder on your computer, to store its configuration file. These two elements are created automatically in your home directory, either when you import the package for the first time in a Python shell, or when you launch the GUI for the first time. The following messages will then be displayed, indicating the exact paths of the local folder and of the configuration file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">INFORMATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">local</span> <span class="n">folder</span> <span class="n">AUTOLAB</span> <span class="n">has</span> <span class="n">been</span> <span class="n">created</span> <span class="p">:</span> <span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="o">&lt;</span><span class="n">USER</span><span class="o">&gt;</span>\<span class="n">autolab</span>
<span class="n">INFORMATION</span><span class="p">:</span> <span class="n">The</span> <span class="n">configuration</span> <span class="nb">file</span> <span class="n">devices_index</span><span class="o">.</span><span class="n">ini</span> <span class="n">has</span> <span class="n">been</span> <span class="n">created</span> <span class="p">:</span> <span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="o">&lt;</span><span class="n">USER</span><span class="o">&gt;</span>\<span class="n">autolab</span>\<span class="n">devices_index</span><span class="o">.</span><span class="n">ini</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not modify the location and the name of this local folder and of the configuration file.</p>
</div>
<p>The configuration of a new device in Autolab simply consists in adding a small block of informations in the configuration file. This block contains a header that indicates the local name of the instrument (as it will be displayed in Autolab), and several options that indicates its driver name, its connection informations and optionally its module configuration. These options are passed as arguments when the driver is instantiated.</p>
<p>Here is an example of the block structure in the configuration file <code class="docutils literal notranslate"><span class="pre">devices_index.ini</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">&lt;</span><span class="n">LOCAL_NAME_OF_YOUR_DEVICE</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">driver</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DRIVER_NAME</span><span class="o">&gt;</span>
<span class="n">connection</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">CONNECTION_TYPE</span><span class="o">&gt;</span>
<span class="n">address</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">ADDRESS</span><span class="o">&gt;</span>
<span class="n">slot1</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">MODULE_NAME</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">SLOT_NAME</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Configuration elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Device name</em> (mandatory): In squared brackets, indicate the local name of your instrument, as it will be displayed in Autolab.</p></li>
<li><p><em>Option “driver”</em> (mandatory): Name of the associated Autolab driver.</p></li>
<li><p><em>Option “connection”</em> (mandatory): Type of the connection use to communicate with your instrument (ex: VISA, TELNET,…).</p></li>
<li><p><em>Other options</em>: Depending on the driver, you may have to provide an address (Visa or IP address,…), a communication port, a slot configuration, or others options.</p></li>
</ul>
</div></blockquote>
<p>To see a concrete example of the block you have to append in the configuration file, call the function <code class="docutils literal notranslate"><span class="pre">help</span></code> of the corresponding driver object <code class="docutils literal notranslate"><span class="pre">autolab.drivers.&lt;DRIVER_NAME&gt;</span></code> by replacing &lt;DRIVER_NAME&gt; with the name of the driver associated to your instrument. Here is an example for the Yenista Tunics light source:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">autolab</span><span class="o">.</span><span class="n">drivers</span><span class="o">.</span><span class="n">yenista_tunics</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>

<span class="go">========================================</span>
<span class="go">Driver &quot;yenista_tunics&quot; (Optical source)</span>
<span class="go">========================================</span>

<span class="go">Available connection(s):</span>
<span class="go"> - VISA</span>

<span class="go">Configuration example(s) for devices_index.ini:</span>

<span class="go">[myDeviceName]</span>
<span class="go">driver = yenista_tunics</span>
<span class="go">connection = VISA</span>
<span class="go">address = GPIB0::2::INSTR</span>
</pre></div>
</div>
<p>You can then copy and paste this exemple to the configuration file <code class="docutils literal notranslate"><span class="pre">devices_index.ini</span></code>, and customize the value of the options that suits your instrument.</p>
</div>
<div class="section" id="check-your-configuration">
<h2>Check your configuration<a class="headerlink" href="#check-your-configuration" title="Permalink to this headline">¶</a></h2>
<p>To check your new configuration file, start a new Python shell and call the function <code class="docutils literal notranslate"><span class="pre">help</span></code> of the <code class="docutils literal notranslate"><span class="pre">autolab.devices</span></code> object. You should see a new line with the name of your instrument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">autolab</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<p>Now, try to instantiate a connection to the device by accessing the its attribute in <code class="docutils literal notranslate"><span class="pre">autolab.devices</span></code>. Here is an example for the Yenista Tunics light source, named <code class="docutils literal notranslate"><span class="pre">myTunics</span></code> in the configuration file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">autolab</span><span class="o">.</span><span class="n">devices</span><span class="o">.</span><span class="n">myTunics</span>
</pre></div>
</div>
<p>If this doesn’t raise any error, you are ready to use your new device in Autolab ! See sections <a class="reference internal" href="open_and_use.html#userguide-low"><span class="std std-ref">Open and use a driver</span></a> and <a class="reference internal" href="../gui/index.html#gui"><span class="std std-ref">Graphical User Interface (GUI)</span></a> to continue.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="create_driver.html" class="btn btn-neutral float-right" title="Create your own driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="open_and_use.html" class="btn btn-neutral float-left" title="Open and use a driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Quentin Chateiller, Bruno Garbin

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>